<svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 2140 1360" width="2140" height="1360">
  <!-- svg-source:excalidraw -->
  
  <defs>
    <style class="style-fonts">
      @font-face {
        font-family: "Virgil";
        src: url("https://excalidraw.com/Virgil.woff2");
      }
      @font-face {
        font-family: "Cascadia";
        src: url("https://excalidraw.com/Cascadia.woff2");
      }
      @font-face {
        font-family: "Assistant";
        src: url("https://excalidraw.com/Assistant-Regular.woff2");
      }
    </style>
    
  </defs>
  <rect x="0" y="0" width="2140" height="1360" fill="#ffffff"></rect><g stroke-linecap="round" transform="translate(10 10) rotate(0 1060 670)"><path d="M32 0 C825.48 0, 1618.95 0, 2088 0 C2109.33 0, 2120 10.67, 2120 32 C2120 381.66, 2120 731.33, 2120 1308 C2120 1329.33, 2109.33 1340, 2088 1340 C1497.03 1340, 906.05 1340, 32 1340 C10.67 1340, 0 1329.33, 0 1308 C0 848, 0 388, 0 32 C0 10.67, 10.67 0, 32 0" stroke="none" stroke-width="0" fill="#ffffff"></path><path d="M32 0 C507.47 0, 982.95 0, 2088 0 M32 0 C806.65 0, 1581.3 0, 2088 0 M2088 0 C2109.33 0, 2120 10.67, 2120 32 M2088 0 C2109.33 0, 2120 10.67, 2120 32 M2120 32 C2120 297.35, 2120 562.69, 2120 1308 M2120 32 C2120 416.58, 2120 801.16, 2120 1308 M2120 1308 C2120 1329.33, 2109.33 1340, 2088 1340 M2120 1308 C2120 1329.33, 2109.33 1340, 2088 1340 M2088 1340 C1416.73 1340, 745.47 1340, 32 1340 M2088 1340 C1388.02 1340, 688.04 1340, 32 1340 M32 1340 C10.67 1340, 0 1329.33, 0 1308 M32 1340 C10.67 1340, 0 1329.33, 0 1308 M0 1308 C0 876.73, 0 445.45, 0 32 M0 1308 C0 863.16, 0 418.32, 0 32 M0 32 C0 10.67, 10.67 0, 32 0 M0 32 C0 10.67, 10.67 0, 32 0" stroke="#1971c2" stroke-width="2" fill="none"></path></g><g stroke-linecap="round" transform="translate(1030 1010) rotate(0 450 70)"><path d="M0 0 L900 0 L900 140 L0 140" stroke="none" stroke-width="0" fill="#ffc9c9"></path><path d="M0 0 C300.56 0, 601.13 0, 900 0 M0 0 C257.34 0, 514.67 0, 900 0 M900 0 C900 43.63, 900 87.25, 900 140 M900 0 C900 42.26, 900 84.52, 900 140 M900 140 C569.97 140, 239.93 140, 0 140 M900 140 C595.35 140, 290.69 140, 0 140 M0 140 C0 93.93, 0 47.85, 0 0 M0 140 C0 89.85, 0 39.69, 0 0" stroke="#e03131" stroke-width="2" fill="none"></path></g><g stroke-linecap="round" transform="translate(110 970) rotate(0 340 90)"><path d="M0 0 L680 0 L680 180 L0 180" stroke="none" stroke-width="0" fill="#ffc9c9"></path><path d="M0 0 C171.35 0, 342.7 0, 680 0 M0 0 C157.97 0, 315.93 0, 680 0 M680 0 C680 65.2, 680 130.39, 680 180 M680 0 C680 56.62, 680 113.25, 680 180 M680 180 C497.28 180, 314.57 180, 0 180 M680 180 C538.6 180, 397.21 180, 0 180 M0 180 C0 129.63, 0 79.27, 0 0 M0 180 C0 121.34, 0 62.69, 0 0" stroke="#e03131" stroke-width="2" fill="none"></path></g><g stroke-linecap="round" transform="translate(370 190) rotate(0 160 220)"><path d="M0 0 L320 0 L320 440 L0 440" stroke="none" stroke-width="0" fill="#a5d8ff"></path><path d="M0 0 C88.24 0, 176.47 0, 320 0 M0 0 C72.63 0, 145.26 0, 320 0 M320 0 C320 114.4, 320 228.79, 320 440 M320 0 C320 115.24, 320 230.48, 320 440 M320 440 C207.41 440, 94.81 440, 0 440 M320 440 C206.02 440, 92.03 440, 0 440 M0 440 C0 291.55, 0 143.1, 0 0 M0 440 C0 307.2, 0 174.39, 0 0" stroke="#1971c2" stroke-width="2" fill="none"></path></g><g transform="translate(467.1957473754883 392.5) rotate(0 62.80425262451172 17.5)"><text x="62.80425262451172" y="24.528" font-family="Virgil, Segoe UI Emoji" font-size="28px" fill="#1971c2" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">cli (local)</text></g><g stroke-linecap="round" transform="translate(1190 190) rotate(0 160 220)"><path d="M0 0 L320 0 L320 440 L0 440" stroke="none" stroke-width="0" fill="#b2f2bb"></path><path d="M0 0 C118.23 0, 236.47 0, 320 0 M0 0 C77.09 0, 154.17 0, 320 0 M320 0 C320 108.65, 320 217.3, 320 440 M320 0 C320 128.65, 320 257.3, 320 440 M320 440 C218.41 440, 116.81 440, 0 440 M320 440 C239.01 440, 158.02 440, 0 440 M0 440 C0 316.43, 0 192.86, 0 0 M0 440 C0 315.67, 0 191.33, 0 0" stroke="#1971c2" stroke-width="2" fill="none"></path></g><g transform="translate(1277.0736846923828 392.5) rotate(0 72.92631530761719 17.5)"><text x="72.92631530761719" y="24.528" font-family="Virgil, Segoe UI Emoji" font-size="28px" fill="#1971c2" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">kubernetes</text></g><g mask="url(#mask-Z55Qvo3gNd3MuARBnyydi)" stroke-linecap="round"><g transform="translate(691 239.9999978736023) rotate(0 249 7.164721864683088e-7)"><path d="M0 0 C196.7 0, 393.39 0, 498 0 M0 0 C119.01 0, 238.01 0, 498 0" stroke="#2f9e44" stroke-width="2" fill="none"></path></g><g transform="translate(691 239.9999978736023) rotate(0 249 7.164721864683088e-7)"><path d="M498 0 L484.41 6.34 L484.41 -6.34 L498 0" stroke="none" stroke-width="0" fill="#2f9e44" fill-rule="evenodd"></path><path d="M498 0 C492.63 2.5, 487.26 5.01, 484.41 6.34 M498 0 C494.75 1.51, 491.5 3.03, 484.41 6.34 M484.41 6.34 C484.41 2.91, 484.41 -0.51, 484.41 -6.34 M484.41 6.34 C484.41 3.15, 484.41 -0.05, 484.41 -6.34 M484.41 -6.34 C489.07 -4.17, 493.73 -1.99, 498 0 M484.41 -6.34 C487.83 -4.74, 491.26 -3.14, 498 0 M498 0 C498 0, 498 0, 498 0 M498 0 C498 0, 498 0, 498 0" stroke="#2f9e44" stroke-width="2" fill="none"></path></g></g><mask id="mask-Z55Qvo3gNd3MuARBnyydi"><rect x="0" y="0" fill="#fff" width="1289" height="339.99999930654667"></rect><rect x="768.3101806640625" y="214.99999859007448" fill="#000" width="343.379638671875" height="50" opacity="1"></rect></mask><g transform="translate(768.3101806640625 214.99999859007448) rotate(0 171.6898193359375 25)"><text x="171.6898193359375" y="17.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#2f9e44" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">1. directly write configmap and run </text><text x="171.6898193359375" y="42.519999999999996" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#2f9e44" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">the ksctl agent</text></g><g mask="url(#mask-p6CXsf0CCS6TKF9lHTU7B)" stroke-linecap="round"><g transform="translate(690 370) rotate(0 249 7.164721864683088e-7)"><path d="M0 0 C121.37 0, 242.73 0, 498 0 M0 0 C156.04 0, 312.07 0, 498 0" stroke="#f08c00" stroke-width="2" fill="none"></path></g><g transform="translate(690 370) rotate(0 249 7.164721864683088e-7)"><path d="M498 0 L484.41 6.34 L484.41 -6.34 L498 0" stroke="none" stroke-width="0" fill="#f08c00" fill-rule="evenodd"></path><path d="M498 0 C494.69 1.54, 491.37 3.09, 484.41 6.34 M498 0 C493.74 1.99, 489.48 3.97, 484.41 6.34 M484.41 6.34 C484.41 2.32, 484.41 -1.71, 484.41 -6.34 M484.41 6.34 C484.41 2.85, 484.41 -0.64, 484.41 -6.34 M484.41 -6.34 C487.37 -4.96, 490.33 -3.57, 498 0 M484.41 -6.34 C488.26 -4.54, 492.11 -2.75, 498 0 M498 0 C498 0, 498 0, 498 0 M498 0 C498 0, 498 0, 498 0" stroke="#f08c00" stroke-width="2" fill="none"></path></g></g><mask id="mask-p6CXsf0CCS6TKF9lHTU7B"><rect x="0" y="0" fill="#fff" width="1288" height="470.0000014329444"></rect><rect x="776.3901977539062" y="320.0000007164722" fill="#000" width="325.2196044921875" height="100" opacity="1"></rect></mask><g transform="translate(776.3901977539062 320.0000007164722) rotate(0 162.60980224609375 50)"><text x="162.60980224609375" y="17.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#f08c00" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">2. deploy the sa and the ksctl </text><text x="162.60980224609375" y="42.519999999999996" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#f08c00" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">agent with no state</text><text x="162.60980224609375" y="67.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#f08c00" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="162.60980224609375" y="92.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#f08c00" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">but (somehow it gets the state)</text></g><g transform="translate(1050 730) rotate(0 451.9994812011719 125)"><text x="0" y="17.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">somehow will be</text><text x="0" y="42.519999999999996" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="67.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">ksctl agent will open an endpoint for receiving a particular request</text><text x="0" y="92.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="117.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">lets say: /transferState()</text><text x="0" y="142.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="167.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">and it will internally initilize using the already present kubernetes client to store the data</text><text x="0" y="192.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="217.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">* so for storing the data it will utilize the storage.import()</text><text x="0" y="242.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">* and the export was from the the ksctl cli in local</text></g><g transform="translate(990 730) rotate(0 9.859992980957031 12.5)"><text x="0" y="17.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#f08c00" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">2.</text></g><g transform="translate(1050 1030) rotate(0 381.1996765136719 50)"><text x="0" y="17.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#e03131" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">Challenges:</text><text x="0" y="42.519999999999996" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#e03131" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">will be how to invoke a grpc call for that we would need to run a grpc client</text><text x="0" y="67.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#e03131" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">even if we create a job process and wait till its completion</text><text x="0" y="92.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#e03131" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">we still need to wait for the job successful completion</text></g><g transform="translate(130 990) rotate(0 310.09967041015625 75)"><text x="0" y="17.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#e03131" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">Challenges:</text><text x="0" y="42.519999999999996" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#e03131" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">even though it looks easy to use but it will seriously limit</text><text x="0" y="67.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#e03131" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">flexibility to perform future feature and fixes as there will</text><text x="0" y="92.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#e03131" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">be 2 different place wherer kubernetes client will be worked on</text><text x="0" y="117.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#e03131" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">thus 2 things having same purpose of writing configmaps</text><text x="0" y="142.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#e03131" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">and secrets will be duplicated</text></g><g stroke-linecap="round" transform="translate(1050 1190) rotate(0 410 70)"><path d="M0 0 L820 0 L820 140 L0 140" stroke="none" stroke-width="0" fill="#b2f2bb"></path><path d="M0 0 C206.16 0, 412.32 0, 820 0 M0 0 C258.22 0, 516.44 0, 820 0 M820 0 C820 38.39, 820 76.78, 820 140 M820 0 C820 45.69, 820 91.39, 820 140 M820 140 C574.68 140, 329.37 140, 0 140 M820 140 C646.59 140, 473.18 140, 0 140 M0 140 C0 86.28, 0 32.56, 0 0 M0 140 C0 109.98, 0 79.97, 0 0" stroke="#2f9e44" stroke-width="2" fill="none"></path></g><g stroke-linecap="round" transform="translate(170 1190) rotate(0 180 60)"><path d="M0 0 L360 0 L360 120 L0 120" stroke="none" stroke-width="0" fill="#b2f2bb"></path><path d="M0 0 C110.85 0, 221.7 0, 360 0 M0 0 C123.98 0, 247.95 0, 360 0 M360 0 C360 41.51, 360 83.03, 360 120 M360 0 C360 45.84, 360 91.67, 360 120 M360 120 C249.39 120, 138.77 120, 0 120 M360 120 C270.02 120, 180.04 120, 0 120 M0 120 C0 93.96, 0 67.93, 0 0 M0 120 C0 86.85, 0 53.7, 0 0" stroke="#2f9e44" stroke-width="2" fill="none"></path></g><g transform="translate(1070 1210) rotate(0 386.98956298828125 50)"><text x="0" y="17.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#2f9e44" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">Possible Solution: </text><text x="0" y="42.519999999999996" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#2f9e44" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">another option is to run a k8s controller with custom resource and whenever </text><text x="0" y="67.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#2f9e44" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">there is a new resource of specific type it will use the grpc client call </text><text x="0" y="92.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#2f9e44" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">to the ksctl agent to store the state</text></g><g transform="translate(190 1210) rotate(0 88.77989196777344 25)"><text x="0" y="17.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#2f9e44" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">Possible Solution: </text><text x="0" y="42.519999999999996" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#2f9e44" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">easy to attain</text></g><g transform="translate(230 730) rotate(0 10.449989318847656 12.5)"><text x="0" y="17.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#2f9e44" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">1. </text></g><g transform="translate(263.37944351057376 735.7225063690835) rotate(0 259.4596862792969 87.5)"><text x="0" y="17.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">many would say why to complicate things?</text><text x="0" y="42.519999999999996" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="67.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">simple answer is to completely utilize the kubernetes</text><text x="0" y="92.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">to do these client call works</text><text x="0" y="117.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="142.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">and lets not forget ksctl agent was the final</text><text x="0" y="167.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">consumer to make changes to the ksctl</text></g><g transform="translate(230 30) rotate(0 806.0582885742188 22.5)"><text x="0" y="31.536" font-family="Virgil, Segoe UI Emoji" font-size="36px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">What method should we use for transfer the ksctl core state to newly created cluster??</text></g></svg>